# 1. HTTP 요청 메서드

URL을 이용하면 서버에게 해당 URL의 리소스를 요청할 수 있습니다. 만약 리소스에 특정 동작을 수행하고 싶다면 어떻게 해야 할까요? 예를 들어, 회원이라는 리소스를 **조회**하고, **등록**하고, **수정**하고, **삭제**하는 등의 행위는 어떻게 구분할까요? 바로 `HTTP 요청 메서드`(Http Request Methods)를 이용합니다.

<br/>
<br/>

# 2. HTTP 메서드 종류

## - 주요 메서드

데이터에 대한 **조회, 생성, 변경, 삭제** 동작을 HTTP 요청 메서드로 정의할 수 있습니다.

<br/>

- `GET` : 존재하는 자원에 대한 요청, 조회
- `POST` : 요청 데이터 처리
  - 주로 등록에 사용
  - PUT, DELETE의 동작도 수행
- `PUT` : 존재하는 자원에 대한 전체 변경
  - 자원을 대체하거나 해당 자원이 없으면 생성
- `PATCH`: 존재하는 자원에 대한 부분 변경
- `DELETE`: 존재하는 자원에 대한 삭제

<br/>

## - 기타 메서드

- `HEAD`: 메시지 헤더를 획득
  - GET과 유사하나 메시지 바디를 제외하고 상태줄과 헤더만 반환
- `OPTIONS`: 대상 리소스에 대한 통신 가능 옵션을 요청
  - 주로 CORS에서 사용
- `CONNECT`: 대상 리소스로 식별되는 서버에 대한 터널을 설정
  - 거의 사용하지 않음
- `TRACE`: 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행
  - 거의 사용하지 않음

<br/>
<br/>

# 3. 메서드 비교

## - GET

`GET` 메서드는 리소스의 **조회**를 요청합니다. `query`를 통해서 서버에 데이터를 전달합니다. 주로 웹 페이지나 이미지 등의 데이터를 가져오는 데 사용됩니다.

<br/>

1. 서버에 `GET` 요청 메시지 전달.

```http
GET /members/100 HTTP/1.1
Host: localhost:8080
```

<br/>

2. 서버가 내부 데이터베이스를 조회하여 `/members/100`에 해당하는 응답 데이터를 생성하고 클라이언트에 전달.

```http
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 34

{
  "username": "young",
  "age": 20
}
```

<br/>

## - POST

`POST` 메서드는 클라이언트가 메시지 바디를 통해 서버로 보낸 요청 **데이터를 처리**합니다. 주로 신규 리소스를 등록이나, 변경된 프로세스 처리 등에 사용됩니다.

<br/>

1. 서버에 `POST` 요청 메시지 전달. 메시지 `body`를 통해 서버에 추가적인 데이터 전송.

```http
POST /members HTTP/1.1
Content-Type: application/json

{
  "username": "young",
  "age": 20
}
```

<br/>

2. 서버에서 받은 데이터를 데이터베이스에 등록하고, 신규 리소스 식별자를 생성(`201`). `Location`을 통해 자원이 생성된 경로를 전달하며, 등록된 자원 데이터도 전송.

```http
HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 34
Location: /members/100

{
  "username": "young",
  "age": 20
}
```

<br/>

POST 메서드는 요청 데이터를 처리하는 데 사용하며, 여러 쓰임새가 있습니다. 핵심은 리소스 URI에 POST 요청이 오면, 요청 데이터를 어떻게 처리할지 리소스마다 따로 정해야 합니다.

<br/>

- POST 예시

* HTML FORM에 입력한 데이터의 전송
  - 회원 가입, 주문
* 파일 업로드, 게시
  - 게시판 글 작성, 댓글 등록
* 서버가 아직 식별하지 않은 새 리소스를 생성
  - 신규 주문 생성
* 기존 자원에 데이터를 추가
  - 한 문서 끝에 내용 추가
* 데이터 프로세스의 상태 변경(처리 단계)
  - 주문 -> 결제완료 -> 배달 시작 -> 배달완료
* 다른 메서드로 처리하기 애매한 경우

<br/>

## - PUT

`PUT` 메서드는 기존 리소스가 있다면 리소스를 완전히 **대체**하고, 해당 리소스가 없다면 새로 생성합니다. 쉽게 말해 폴더에 파일을 복사하는 것과 유사합니다. 폴더에 파일이 없으면 새로 생성되고, 기존에 똑같은 파일이 있다면 덮어쓰는 것처럼 생각해볼 수 있습니다.

<br/>

1. 서버에 `PUT` 요청 메시지 전달.

```http
PUT /members/100 HTTP/1.1
Content-Type: application/json

{
  "age": 50
}
```

<br/>

2. `/members/100`에 해당하는 리소스를 완전히 대체.

```json
{
  "username": "young",
  "age": 20
}
```

```json
{
  "age": 50
}
```

<br/>

중요한 점은, `POST` 메서드와 달리 클라이언트가 리소스를 식별한다는 것입니다. 클라이언트가 리소스의 구체적인 경로를 알고 있으며, URI를 지정합니다.

<br/>

## - PATCH

PUT은 리소스를 수정하기에 적합하지 않습니다. 리소스를 **부분 변경**하려면 `PATCH` 메서드를 사용합니다.

1. 서버에 `PATCH` 요청 메시지 전달.

```http
PATCH /members/100 HTTP/1.1
Content-Type: application/json

{
  "age": 50
}
```

<br/>

2. `/members/100`에 해당하는 리소스 부분 변경.

```json
{
  "username": "young",
  "age": 20
}
```

```json
{
  "username": "young",
  "age": 50
}
```

<br/>

PATCH가 지원되지 않는 서버에서는 `POST`를 사용할 수 있습니다.

<br/>

## - DELETE

`DELETE` 메서드는 리소스 **제거**합니다.

1. 서버에 `DELETE` 요청 메시지 전달.

```http
DELETE /members/100 HTTP/1.1
Host: localhost:8080
```

<br/>

2. `/members/100`에 해당하는 리소스 삭제.

```json
{
  "username": "young",
  "age": 20
}
```

```

```

<br/>
<br/>

---

### - 정리

- `HTTP 요청 메서드`를 정의하여, 주어진 리소스에 수행하길 원하는 행동을 나타냅니다.
- `GET` 메서드는 `query`를 통해서 리소스의 **조회**를 요청합니다.
- `POST` 메서드는 클라이언트가 메시지 `body`를 통해 서버로 보낸 요청 데이터를 **처리**합니다.
- `PUT` 메서드는 리소스를 완전히 **대체**합니다. `POST`와 달리 클라이언트가 리소스를 식별합니다.
- `PATCH` 메서드는 리소스를 **부분 변경**합니다.
- `DELETE` 메서드는 리소스 **제거**합니다.

<br/>
<br/>

#### 참고

- [모든 개발자를 위한 HTTP 웹 기본 지식](https://inf.run/YWJd '김영한')
- [프런트엔드 개발자가 알아야하는 HTTP 프로토콜 Part 1](https://joshua1988.github.io/web-development/http-part1/#url '캡틴 판교')
