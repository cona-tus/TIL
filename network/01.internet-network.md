# 인터넷 네트워크

인터넷을 통해 컴퓨터와 컴퓨터 간에 통신은 어떻게 할까요?

<br/>

# 1. IP

`IP(Internet Protocol)`는 인터넷 프로토콜을 의미하며, 인터넷에서 통신되는 규약을 말합니다. IP 주소를 사용하여 컴퓨터를 식별하고, 지정한 IP 주소에 패킷(Packet)이라는 통신 단위로 데이터를 전달합니다.

<br/>

## - Packet

![packet](https://github.com/cona-tus/TIL/assets/90844424/7caa5175-6acf-46fe-a4d0-4425e97009fc)

패킷은 소포를 전달하는 것과 비슷합니다. 패킷 자체가 수화물(package)과 덩어리(bucket)의 합성어입니다. 패킷을 만들 때 출발지 IP 주소, 목적지 IP 주소 등에 대한 정보를 적고, 전송 데이터를 감싸줍니다.

<br/>

![send-packet](https://github.com/cona-tus/TIL/assets/90844424/cc08799a-0de8-4cab-96ea-3f66a9ee4d87)

패킷은 인터넷 망을 통해 여러 노드를 거쳐 목적지 서버에 도달하게 됩니다. 하지만 이렇게 IP 주소를 찾아가는 방식에는 한계가 있습니다.

<br/>

## - IP의 한계

- **비연결성**: 목적지 컴퓨터가 꺼져 있는데 이를 모른 채 패킷이 전송될 수 있습니다. 패킷을 받을 대상 서버가 없거나, 서비스 불능 상태여도 알 길이 없습니다.
- **비신뢰성**: 패킷이 중간에 사라지거나, 여러 개의 패킷이 순서대로 도착하지 않을 수도 있습니다.
- **프로그램 구분**: 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 여러 개일 때, 어떤 프로그램이 데이터를 받게 될지 구분할 수 없습니다.

<br/>

이러한 문제들을 해결하는 것이 바로 `TCP` 입니다.

<br/>
<br/>

# 2. TCP

`TCP`는 전송 제어 프로토콜(Transmission Control Protocol)입니다. 클라이언트와 서버 간 `3-Way-Handshake` 방식을 사용해 통신 시 연결 확인 후 데이터를 안정적으로 전송합니다. 또한 TCP는 신뢰성을 보장하기 위해 패킷 손실, 순서 변경, 중복 전송 등을 검사하고 복구하는 기능이 있습니다.

<br/>

## - 3-Way-Handshake 연결 지향

TCP는 연결 지향 프로토콜로, 통신을 위해 먼저 연결을 확인하고 데이터를 안정적으로 전송합니다. `클라이언트와 서버 간 연결 방식`은 다음과 같습니다.

<br/>

![3-way](https://github.com/cona-tus/TIL/assets/90844424/c00b1d51-6af1-4cc3-91ea-42e424e15160)

1. 클라이언트에서 서버로 연결 요청 메시지(`SYN`)을 보냅니다.
2. 서버는 클라이언트의 요청을 받고 연결 수락 응답 메시지(`SYN+ACK`)를 보냅니다.
3. 클라이언트는 서버의 응답을 받고, 연결 수락 확인 메시지(`ACK`)를 보냅니다.

<br/>

3-Way-Handshake 연결 방식의 장점은 메시지를 주고받으며 **데이터 전달을 보장**받을 수 있다는 것입니다.

<br/>

## - 신뢰성 보장

![tcp](https://github.com/cona-tus/TIL/assets/90844424/5697cb68-1fa0-4875-a847-cafd7190413a)

TCP는 신뢰할 수 있는 프로토콜입니다. TCP에는 전송 제어 정보, 순서 정보, 검증 정보 등이 포함되어 있어서 `데이터 손실/손상`, `순서 변경`, `중복 전송` 등을 방지합니다. 수신자는 데이터의 순서나 손실 상태를 확인하여 오류가 발생하면, 송신자에게 전송을 다시 요청할 수 있습니다.

<br/>
<br/>

# 3. UDP

`UDP`는 사용자 데이터그램 프로토콜(User Datagram Protocol)을 의미합니다. 비연결성 프로토콜로, 단순히 패킷을 주고받기 때문에 데이터의 정확성 및 전달 순서를 보장하지 않지만, 전송 속도가 빠르다는 장점이 있습니다. 추가로 UDP에는 패킷을 구분할 때 쓰이는 `PORT`가 포함되어 있고, 메시지를 검증하는 `체크섬` 기능이 있습니다.

<br/>
<br/>

# 4. PORT

![port](https://github.com/cona-tus/TIL/assets/90844424/4a150427-05f6-43e1-9cd4-3166a8208983)

클라이언트 PC가 한 번에 여러 개의 서버와 통신할 때, IP만으로는 어디에 필요한 패킷인지 알 수 없습니다. IP가 목적지 서버를 찾는 것이라면, 포트는 하나의 IP 내에서 프로세스를 구분할 때 쓰입니다.

<br/>

- 0 ~ 65535: 할당 가능합니다.
- 0 ~ 1023: 잘 알려진 포트이기 때문에 사용하지 않도록 합니다.
  - FTP - 20, 21
  - TELNET - 23
  - HTTP - 80
  - HTTPS - 443

<br/>

# 5. DNS

`DNS`(Domain Name System)는 전화번호부와 같은 서버를 제공해줍니다. www.example.com과 같이 사람이 읽을 수 있는 이름을 등록하면, 그것을 100.1.10 처럼 IP 주소로 변환하여 컴퓨터 간 서로 통신할 수 있도록 합니다. 이렇게 하면 IP 주소가 변경되어도 도메인을 통해 접근할 수 있습니다.

<br/>
<br/>

---

### - 정리

- `IP`를 통해 컴퓨터 간 서로 통신할 수 있습니다.
- 지정한 IP 주소에 `패킷`이라는 통신 단위로 데이터를 전달합니다.
- IP는 비연결성, 비신뢰성, 프로그램 구분 어려움이라는 한계점이 있습니다.
- `TCP`는 연결 지향적이며, 신뢰성을 보장하여 데이터를 안정적으로 전송할 수 있습니다.
- `UDP`는 비연결성 프로토콜로, IP와 유사하며 속도가 빠르다는 장점이 있습니다.
- `PORT`는 같은 IP 내에서 프로세스를 구분할 때 쓰이며, UDP에 포함됩니다.
- `DNS`는 도메인 명을 통해 IP 주소에 접근할 수 있도록 합니다.

<br/>
<br/>

#### 참고

[모든 개발자를 위한 HTTP 웹 기본 지식](https://inf.run/YWJd '모든 개발자를 위한 HTTP 웹 기본 지식')
